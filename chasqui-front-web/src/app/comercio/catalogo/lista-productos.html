<div ng-controller="ListaProductosController as listaProductoCtr">

	<span ng-show="listaProductoCtr.variantes.length == 0">
		Sin productos.</span>

		<div  layout="column" layout-gt-sm="row" layout-wrap> 
		<div flex="25" flex-gt-sm="25"  ng-repeat="variante in listaProductoCtr.variantes"  >
			<md-card>
				<img  src="{{listaProductoCtr.urlBase}}{{variante.imagenPrincipal}}" 
				 style="height:222px;width:222px;align-self: center">

		        <md-card-content>
		        	<div layout="column" >		
		        		<div  layout="column"  >	        	
							<div layout="column"  >
								<div class="md-subhead">
					        		<span>{{variante.nombreProducto}}</span>
					        	</div>
					        	<div class="md-subhead">
									<a href="http://localhost:3000/#/emprendedores/{{variante.idFabricante}}"> {{variante.nombreFabricante}}</a>
								</div >
								<div class="md-subhead">
									<span>{{variante.nombreVariedad}} </span>
								</div>													
							</div>	

							<div layout="row"  layout-align="space-around center"

 >
								<div>
									<h1>$ {{variante.precioParteEntera}} <sup>{{variante.precioParteDecimal}}</sup></h1>
								</div>
								<md-button class="btn-compra" 
									ng-click="listaProductoCtr.agregar(variante)">
										<p> Agregar</p>
										<md-tooltip md-direction="left"> Agregar al Changuito </md-tooltip>
								</md-button>
							</div>	
						</div>
						
				</md-card-content>

				<md-card-actions >
			 
							<div  layout="row" layout-align="space-around center"> 
								<div ng-repeat="medalla in variante.medallasProducto">								 	<img ng-click="listaProductoCtr.showPrerenderedDialog(medalla)"
									ng-src="{{listaProductoCtr.urlBase}}{{medalla.pathImagen}}"
										width="40" height="40">
										 <md-tooltip md-direction="up">
											{{medalla.nombre}}
										</md-tooltip>
								</div>

								<div ng-repeat="medalla in variante.medallasProductor" >						
									<img  ng-click="listaProductoCtr.showPrerenderedDialog(medalla)" 
										ng-src="{{listaProductoCtr.urlBase}}{{medalla.pathImagen}}" 
										width="40" height="40">
										<md-tooltip md-direction="up">
											{{medalla.nombre}}
										</md-tooltip>
								</div>
							</div>
							
						</div>
			 
									
				</md-card-actions>
			</md-card>
		</div>
		</div>

	<!-- ********************* paginacion *******************-->

	<section layout="column"  layout-align="end center" ng-show="listaProductoCtr.variantes.length > 0">
	 	<cl-paging flex cl-pages="listaProductoCtr.paging.total" cl-steps="6" 
		 cl-page-changed="listaProductoCtr.paging.onPageChanged()" 
		 cl-align="start start" cl-current-page="listaProductoCtr.paging.current"></cl-paging>
	</section>

	<!-- ********************* dialogo de medalla *******************-->
	<div style="visibility: hidden">
	    <div class="md-dialog-container" id="myDialog">
	      <md-dialog layout-padding>
	      	<div  layout="column" layout-align="center center" >
	        	<md-button ng-click="listaProductoCtr.cerrarDialogoMedalla(1)" >
		           		<i style="font-size: 36px;" class="material-icons">close</i>
				</md-button>
	       
		         <img ng-src="{{listaProductoCtr.urlBase}}{{listaProductoCtr.medallaSelect.pathImagen}}" 
		         	width="200" height="200">
		        
		         <span class="md-headline">{{listaProductoCtr.medallaSelect.nombre}}</span>
		          
		         <div ng-bind-html ="listaProductoCtr.medallaSelect.descripcion" />     	
		    </div>
	      </md-dialog>
    </div>
  </div>

</div>
<style>/*
	.gridListdemoBasicUsage md-grid-list {
		margin: 8px;
	}
	
	md-grid-tile-footer {
		height: 190px !important;
		align-items: center;
		font-size: 20px;
	}
	
	.container {
		width: 200px;
		height: 200px;
		position: absolute;
		left: 0;
		right: 0;
		margin: 0 auto;
		top: 20px;
	}
	
	.div-img {
		display: block;
		margin-left: auto;
		margin-right: auto;
		&.hidden {
			overflow: hidden;
		}
		.img {
			display: block;
			margin-left: auto;
			margin-right: auto;
			width: 100%;
			transform: translate(0px, 0px);
			-ms-transform: translate(0px, 0px); // IE 9 
			-moz-transform: translate(0px, 0px); // Firefox 
			-webkit-transform: translate(0px, 0px); // Safari and Chrome 
			-o-transform: translate(0px, 0px); // Opera 
			-webkit-transition: all 500ms ease-in-out; // IE 9
			-moz-transition: all 500ms ease-in-out; // Firefox
			-ms-transition: all 500ms ease-in-out; // Safari and Chrome 
			-o-transition: all 500ms ease-in-out; // Opera    
		}
		.text {
			font-family: 'Open Sans';
			position: absolute;
			z-index: -1;
			display: block;
			bottom: 20px;
			width: 100%;
			text-align: center;
		}
		&:hover {
			.img {
				transform: translate(0px, -100px);
				-ms-transform: translate(0px, -100px); // IE 9 
				-moz-transform: translate(0px, -100px); // Firefox 
				-webkit-transform: translate(0px, -100px); // Safari and Chrome 
				-o-transform: translate(0px, -100px);
			}
		}
	}*/
</style>