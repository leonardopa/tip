<div ng-controller="DetalleGruposController as detalleGrupoCtrl" layout="column" ng-cloak>
<md-card>
<md-card-content>
	  <div class="md-accent md-title" ng-if="group.esAdministrador">
	    <label translate="GRUPO_ADMIN"></label>
	  </div>
	  <md-card-actions layout="row" layout-align="center center" ng-if="group.esAdministrador">
	    <!--
	            <md-button ng-click="listaGruposCtrl.crearPedidoGrupal(group)">
	                <md-icon> add_circle_outline </md-icon>
	                <md-tooltip md-direction="left">
	                    Nuevo pedido grupal
	                </md-tooltip>
	            </md-button>-->
	    <md-button ng-click="listaGruposCtrl.invitarUsuario(group)">
	      <md-icon> group add </md-icon>
	      <md-tooltip md-direction="left">
	        <label translate="AGREGAR_GRUPO"></label>
	      </md-tooltip>
	    </md-button>
	    <md-button ng-click="listaGruposCtrl.edit(group)">
	      <md-icon> edit </md-icon>
	      <md-tooltip md-direction="left">
	        <label translate="EDITAR_GRUPO"></label>
	      </md-tooltip>
	    </md-button>
	    <md-button ng-if="!group.esAdministrador" ng-click="listaGruposCtrl.salir(group)">
	      <md-icon style="color: #f00;"> remove_circle_outline</md-icon>
	      <md-tooltip md-direction="left">
	        <label translate="SALIR_GRUPO"></label>
	      </md-tooltip>
	    </md-button>
	  </md-card-actions>
</md-card-content>	

	<div ng-if="detalleGrupoCtrl.grupo.miembros && detalleGrupoCtrl.grupo.miembros.length > 0">
		<md-subheader><label translate>MIEMBROS_GRUPO</label></md-subheader>
		<md-divider>
			<md-list class="fixedRows">
				<md-list-item class="md-2-line contact-item selected" ng-repeat="member in detalleGrupoCtrl.miembrosVisiblesParaUsuarioLogeado()">
					<img ng-src="http://lorempixel.com/150/150/people/" class="md-avatar" alt="{{member.nickname}}" />
					<div class="md-list-item-text compact">
						<h4>{{::detalleGrupoCtrl.selfPara(member)}}</h4>
						<p>{{member.email}}</p>
					</div>
					<div layout="row" layout-align="end center">
						<div>
							<md-button ng-if="detalleGrupoCtrl.showRemoveGroupsMember(member)" ng-click="detalleGrupoCtrl.quitarMiembro(member)">
								<ng-md-icon icon="remove_circle_outline" style="fill: red"></ng-md-icon>
								<md-tooltip md-direction="right">
									<label translate="QUITAR_GRUPO_MSG"></label>
								</md-tooltip>
							</md-button>
						</div>
						<div ng-if="member.invitacion == 'NOTIFICACION_ACEPTADA'">
							<ng-md-icon icon="done" style="fill: green" class="md-list-item-text compact"></ng-md-icon>
							<md-tooltip md-direction="right">
								<label translate="INV_ACEP_MSG"></label>
							</md-tooltip>
						</div>
						<div ng-if="member.invitacion == 'NOTIFICACION_NO_LEIDA'" class="md-list-item-text compact">
							<md-icon> restore </md-icon>
							<md-tooltip md-direction="right">
								<label translate="INV_ESP_MSG"></label>
							</md-tooltip>
						</div>
					</div>
					<md-divider md-inset ng-if="!$last">
				</md-list-item>
			</md-list>
	</div>
</md-card>
</div>
